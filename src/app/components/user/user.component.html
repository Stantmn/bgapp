<div [@routerTransition]>
  <app-page-header [heading]="'Users'" [icon]="'fa-edit'"></app-page-header>

  <div class="row">
    <div class="col-lg-6">

      <form #userForm="ngForm">

        <fieldset class="form-group">
          <label>Email *</label>
          <input class="form-control" [(ngModel)]="user.email" name="email" type="email" email
                 id="email" placeholder="Enter a Email" required>
        </fieldset>

        <fieldset class="form-group">
          <label>Password *</label>
          <input class="form-control" [(ngModel)]="user.password" name="password" type="password"
                 id="password" placeholder="Enter a password" required>
        </fieldset>

        <fieldset class="form-group">
          <label>Confirm Password *</label>
          <input class="form-control" [(ngModel)]="user.confirmPassword" name="confirmPassword" type="password"
                 id="confirmPassword" placeholder="Confirm Password" required>
          <p *ngIf="user.password !== user.confirmPassword" class="help-block">Passwords should be equal</p>
        </fieldset>

        <fieldset class="form-group align-middle">
          <label>Role *</label>
          <select class="form-control" [(ngModel)]="user.role" name="role" required>
            <option *ngFor="let item of roles" [ngValue]="item">{{ item }}
            </option>
          </select>
        </fieldset>

        <fieldset class="form-group">
          <label>Status *</label>
          <select class="form-control" [(ngModel)]="user.status" name="status" required>
            <option *ngFor="let item of statuses" [ngValue]="item">{{ item }}
            </option>
          </select>
        </fieldset>

        <fieldset class="form-group">
          <label>Store *</label>
          <select class="form-control" [(ngModel)]="user.storeId" name="status" required>
            <option *ngFor="let item of storesList?.stores" [ngValue]="item.storeName">{{ item.storeName }}
            </option>
          </select>
        </fieldset>

      </form>

      <div class="row">
        <div class="col-2">
          <button class="btn btn-warning btn-space" (click)="userCancel()">Cancel</button>
        </div>
        <div class="col-2">
          <button class="btn btn-success btn-space" (click)="userSave()"
                  [disabled]="!userForm.form.valid && !user.password && (user.password === user.confirmPassword)">
            &nbsp;&nbsp;Save&nbsp;&nbsp;
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
